from bert_score import score

def evaluate_bert_score(lang="ko"):
    candidates = ["엔진룸 점검은 차량의 엔진 부분을 점검하는 것을 말합니다. 엔진룸 점검을 하기 위해서는 다음과 같은 단계를 따르면 됩니다:차량을 안전하게 주차시킨 후 엔진을 꺼주세요.엔진룸을 열기 위해 트렁크나 후드를 열어주세요. 각 차종마다 엔진룸을 열기 위한 방법이 다를 수 있으니 차량 사용 설명서를 참고해주세요.엔진룸 내부에서 냉각수, 각종 오일, 벨트류 등의 이상 유무를 확인해주세요. 브레이크액이나 냉각수가 새고 있는지, 오일이 누수되어 있는지, 벨트류가 마모되거나 풀린 부분이 있는지 등을 주의 깊게 살펴보세요.브레이크액 리저버 탱크 내의 브레이크액 양이 규정 범위 내에 있는지 확인해주세요. 냉각수가 새지 않는지, 벨트류가 정상적으로 작동하는지도 확인해야 합니다.냉각수량이 적절한지 확인하고, 부족하다면 부동액과 물을 섞어 보충해야 합니다. 냉각수의 점검은 엔진이 차가울 때 실시해야 합니다.만약 브레이크액이 부족하거나 급격히 감소되었다면 전문가의 도움을 받아야 합니다.위의 점검 사항을 차근차근 따라하면 엔진룸을 정기적으로 점검할 수 있습니다. 만약 이상을 발견하거나 점검 방법에 대해 자신이 없다면 전문가의 도움을 받는 것이 좋습니다."]
    references = [" ".join([
        "1. 엔진오일 확인: 엔진오일 게이지(딥스틱)를 뽑아 천으로 닦고 다시 꽂았다가 빼서 오일량과 색상을 확인합니다. 정상: F (Full)과 L (Low) 사이에 위치, 갈색~노란색. 문제: 오일량이 너무 적거나, 색이 까맣고 찐득하면 교환 시기입니다.",
        "2. 냉각수(부동액) 점검: 냉각수 보조 탱크의 눈금 (FULL / LOW)을 확인합니다. LOW 이하일 경우 냉각수 보충이 필요합니다. 주의: 엔진이 뜨거울 때는 절대 뚜껑을 열지 마세요. (화상 위험)",
        "3. 브레이크 오일 확인: 브레이크 오일 탱크의 눈금을 확인합니다. LOW 이하일 경우 브레이크 성능 저하 위험이 있으니 보충하거나 점검이 필요합니다.",
        "4. 배터리 상태 확인: 배터리 단자에 하얀색 가루(부식)가 있으면 청소가 필요합니다. 배터리 상단 인디케이터의 색상으로 충전 상태를 확인합니다. 초록색: 정상 / 검정 또는 흰색: 방전 또는 교체 필요.",
        "5. 팬 벨트(Drive Belt) 점검: 벨트가 지나치게 늘어지거나 갈라진 흔적이 있는지 확인합니다. 이상이 있다면 정비소 점검이 필요합니다.",
        "6. 에어클리너(공기필터) 상태 확인: 에어필터 커버를 열고 필터가 지나치게 더럽거나 먼지가 많으면 교체합니다.",
        "7. 워셔액(유리세정액) 확인: 워셔액 탱크에 충분한 양이 있는지 확인하고 부족하면 보충합니다."
    ])]

    P, R, F1 = score(candidates, references, lang=lang)
    
    return {
        "precision": round(P.item(), 4),
        "recall": round(R.item(), 4),
        "f1": round(F1.item(), 4)
    }


result = evaluate_bert_score()
print(result)
