from bert_score import score

def evaluate_bert_score(lang="ko"):
    #원본
    candidates = ["선루프를 초기화하는 방법은 차량 모델과 선루프 타입에 따라 다를 수 있습니다. 일반적인 방법은 다음과 같습니다: 차량의 전원을 켭니다. 선루프 스위치를 찾습니다. 보통 운전석 근처나 천장 콘솔에 있습니다.. 선루프 스위치를 완전히 열림 위치로 올립니다. 선루프 스위치를 약 10초 동안 그 위치에 유지합니다. 선루프가 완전히 열리고 닫히는 것을 확인합니다. 선루프 스위치를 중립 위치로 놓습니다. 이렇게 하면 선루프의 초기 위치가 재설정됩니다. 선루프가 제대로 작동하지 않는 경우 이 과정을 반복해 보는 것이 좋습니다. 차량 모델에 따라 약간의 차이가 있을 수 있으므로 차량 사용 설명서를 참고하는 것이 도움이 될 수 있습니다."]





    # #references = [" ".join([
    #     "차량 전원이 꺼진 상태에서 시작: 차량의 시동을 끄고, 전기 장치가 모두 꺼진 상태인지 확인하세요.",
    # "트렁크를 수동으로 완전히 열기: 버튼이나 리모컨을 사용하지 않고, 손으로 트렁크를 천천히 끝까지 들어올리세요.",
    # "트렁크를 수동으로 완전히 닫기: 다시 손으로 천천히 끝까지 닫아주세요. 이 과정에서 파워 트렁크의 위치 센서가 재설정됩니다.",
    # "다시 전동 작동 확인: 차량 전원을 켠 후, 트렁크 버튼(키 FOB, 차량 내부 버튼, 트렁크 버튼 중 하나)을 눌러 전동 작동이 제대로 되는지 확인합니다."
    # ])]
    #references = ["HDA는 고속도로 주행 보조 시스템으로, 차량의 속도와 차간거리를 자동으로 조절하여 편안하고 안전한 주행을 돕는 기능입니다. HDA 설정 방법은 다음과 같습니다: 계기판 또는 중앙 디스플레이에서 HDA 버튼을 찾아 누르세요. HDA 기능이 켜지면 계기판에 HDA 표시등이 켜집니다. 원하는 차량 속도와 차간거리를 설정할 수 있습니다. 고속도로 주행 중 HDA 기능이 자동으로 작동하여 안전하게 주행할 수 있습니다. HDA 사용 시 주의사항은 다음과 같습니다: 차량 주변 상황을 항상 주시하고 필요 시 직접 브레이크를 작동해야 합니다. 날씨, 도로 상황 등에 따라 HDA 기능이 원활하게 작동하지 않을 수 있습니다. HDA는 보조 기능이므로 운전자의 주의와 판단이 필요합니다. 궁금하신 점이 더 있으시다면 언제든 문의해 주시기 바랍니다."]
    references = ["선루프 초기화 방법은 다음과 같습니다. 시동을 걸거나 차량 전원을 'ON' 상태로 두십시오. 선루프 스위치로 파워 선블라인드와 선루프 글라스를 완전히 닫은 후 손을 떼십시오. 파워 선블라인드와 선루프 글라스가 닫힌 상태에서 스위치를 앞쪽으로 눌러 파워 선블라인드와 글라스가 살짝 한번 움직일 때까지 계속 눌렀다 손을 떼십시오. 파워 선블라인드와 선루프 글라스가 열렸다가 완전히 닫힐 때까지 다시 한번 선루프 스위치를 앞쪽으로 계속 누르십시오. 슬라이드 열림/닫힘 작동이 끝나기 전에는 스위치에서 손을 떼지 마십시오. 도중에 손을 떼면, 처음부터 다시 초기화를 진행해야 합니다. 선루프를 초기화하지 않으면 선루프가 제대로 작동하지 않을 수 있습니다."]

    P, R, F1 = score(candidates, references, lang=lang)
    
    return {
        "precision": round(P.item(), 4),
        "recall": round(R.item(), 4),
        "f1": round(F1.item(), 4)
    }


result = evaluate_bert_score()
print(result)
